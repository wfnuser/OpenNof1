# Agent Configuration

agent:
  # LLM Configuration - Compatible with any OpenAI API format
  model_name: "deepseek-chat"  # Model name (gpt-4o, claude-3-5-sonnet, deepseek-chat, qwen-plus, etc.)
  base_url: "https://api.deepseek.com/v1"  # API base URL (null for OpenAI, or custom like "https://api.deepseek.com/v1")
  api_key: "${OPENAI_API_KEY}"  # API key environment variable
  
  # Trading Configuration
  decision_interval: 180  # seconds between decisions
  symbols:
    - ETHUSDT
    - SOLUSDT
    - DOGEUSDT
    - XRPUSDT
  timeframes:
    - "3m"
    - "1h"
    - "4h"
  
  # 用户可配置的交易策略（会被数据库覆盖）
  trading_strategy: |
    1. 单一币种仓位上限为可用余额的 20%
    2. 止损止盈 - 可以用小时级 NATR 为单位，盈亏比 2:1

    原则:
    1. 不要随意建仓，除非所有指标都指向一个方向，否则不要轻易下单
    2. 不要随意主动平仓，因为已经设置了止盈止损了 - 除非有强烈的信号指示趋势已经反转，才需要平仓

# Exchange Configuration (used for市场数据 WebSocket/REST)
exchange:
  name: "binance_futures"
  testnet: false
  websocket_url: "wss://fstream.binance.com/stream"
  rest_api_url: "https://fapi.binance.com"
  testnet_websocket_url: "wss://stream.binancefuture.com/stream"
  testnet_rest_api_url: "https://testnet.binancefuture.com"

# Multi-exchange trading configuration
exchanges:
  binance_futures:
    ccxt_id: "binance"
    auth_type: "api_key"
    default_leverage: 1
    margin_mode: "cross"
    enable_rate_limit: true
    timeout: 10000
    retries: 3
    credentials:
      apiKey: "${BINANCE_API_KEY}"
      secret: "${BINANCE_API_SECRET}"
    options:
      defaultType: "future"
  hyperliquid:
    ccxt_id: "hyperliquid"
    auth_type: "wallet_key"
    default_leverage: 1
    margin_mode: "cross"
    credentials:
      user: "${HL_USER_ADDR}"
      wallet_address: "${HL_WALLET_ADDR}"
      private_key: "${HL_PRIVATE_KEY}"
    options:
      slippage: 0.02
  
# Risk Management (these can be overridden in user prompts)
default_risk:
  max_position_size_percent: 0.1  # 10% of account per position
  max_daily_loss_percent: 0.05    # 5% max daily loss
                # Maximum leverage
  stop_loss_percent: 0.02         # 2% stop loss
  
# Account Snapshot Configuration
account_snapshot:
  enabled: true
  interval_minutes: 15  # Take snapshot every 15 minutes
  keep_days: 90  # Keep snapshots for 90 days

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  save_decisions: true
  save_executions: true
  save_snapshots: true
  
# System Configuration  
system:
  host: "0.0.0.0"
  port: 8000
  max_concurrent_decisions: 1  # Prevent overlapping decisions
